"use strict";(self.webpackChunkthree_ez_doc=self.webpackChunkthree_ez_doc||[]).push([[7597],{4137:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>u});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),h=i,u=d["".concat(s,".").concat(h)]||d[h]||m[h]||r;return n?a.createElement(u,o(o({ref:t},c),{},{components:n})):a.createElement(u,o({ref:t},c))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},5069:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=n(7462),i=(n(7294),n(4137));const r={id:"index",title:"@three.ez/main",sidebar_label:"Readme",sidebar_position:0,custom_edit_url:null},o="three.ez",l={unversionedId:"api/index",id:"api/index",title:"@three.ez/main",description:"npm version",source:"@site/docs/api/index.md",sourceDirName:"api",slug:"/api/",permalink:"/three.ez/docs/api/",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"index",title:"@three.ez/main",sidebar_label:"Readme",sidebar_position:0,custom_edit_url:null},sidebar:"tutorialSidebar",next:{title:"Exports",permalink:"/three.ez/docs/api/modules"}},s={},p=[{value:"Features",id:"features",level:2},{value:"Automatic Resize Handling",id:"automatic-resize-handling",level:3},{value:"Smart Rendering",id:"smart-rendering",level:3},{value:"Simplified Rendering",id:"simplified-rendering",level:3},{value:"Object3D Property Binding",id:"object3d-property-binding",level:3},{value:"Event Programming",id:"event-programming",level:3},{value:"Focus and Blur",id:"focus-and-blur",level:3},{value:"Drag and Drop",id:"drag-and-drop",level:3},{value:"Hitbox Functionality",id:"hitbox-functionality",level:3},{value:"Raycasting Options",id:"raycasting-options",level:3},{value:"Tweening",id:"tweening",level:3},{value:"Simplified InstancedMesh",id:"simplified-instancedmesh",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Override Typescript Type Definition",id:"override-typescript-type-definition",level:2},{value:"Live Examples",id:"live-examples",level:2},{value:"Documentation",id:"documentation",level:2},{value:"Contributing",id:"contributing",level:2},{value:"Questions?",id:"questions",level:2}],c={toc:p},d="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"threeez"},"three.ez"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://badge.fury.io/js/@three.ez%2Fmain"},(0,i.kt)("img",{parentName:"a",src:"https://badge.fury.io/js/@three.ez%2Fmain.svg",alt:"npm version"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://sonarcloud.io/summary/new_code?id=agargaro_three.ez"},(0,i.kt)("img",{parentName:"a",src:"https://sonarcloud.io/api/project_badges/measure?project=agargaro_three.ez&metric=alert_status",alt:"Quality Gate Status"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://deepscan.io/dashboard#view=project&tid=21196&pid=25445&bid=796375"},(0,i.kt)("img",{parentName:"a",src:"https://deepscan.io/api/teams/21196/projects/25445/branches/796375/badge/grade.svg",alt:"DeepScan grade"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://www.codefactor.io/repository/github/agargaro/three.ez"},(0,i.kt)("img",{parentName:"a",src:"https://www.codefactor.io/repository/github/agargaro/three.ez/badge",alt:"CodeFactor"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://bundlephobia.com/package/@three.ez/main"},(0,i.kt)("img",{parentName:"a",src:"https://badgen.net/bundlephobia/min/@three.ez/main",alt:"BundlePhobia"}))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"three.ez")," is a library designed to simplify the development of a ",(0,i.kt)("inlineCode",{parentName:"p"},"three.js")," application, enabling the easy creation of reusable and maintainable components and providing a range of other functionalities.\nIt offers high performance on desktops and mobile devices."),(0,i.kt)("h2",{id:"features"},"Features"),(0,i.kt)("h3",{id:"automatic-resize-handling"},"Automatic Resize Handling"),(0,i.kt)("p",null,"Automatically resizes ",(0,i.kt)("inlineCode",{parentName:"p"},"Renderer"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Camera"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"EffectComposer"),". Using ",(0,i.kt)("inlineCode",{parentName:"p"},"rendererResize")," event is also possibile to set resolution for custom shaders."),(0,i.kt)("h3",{id:"smart-rendering"},"Smart Rendering"),(0,i.kt)("p",null,"Smart rendering allows a frame to render only when it is needed, which is particularly useful when using mostly static scenes, optimizing performance and reducing unnecessary computational overhead. ",(0,i.kt)("br",null),"\nIt is based on a ",(0,i.kt)("inlineCode",{parentName:"p"},"Scene")," property called ",(0,i.kt)("inlineCode",{parentName:"p"},"needsRender"),", which is changed automatically when there is a change in position, scale, rotation, visiblity, focus, removal or addition of ",(0,i.kt)("inlineCode",{parentName:"p"},"Object3D"),".\nIt is also possible to change it manually, in cases where changes are not automatically identified."),(0,i.kt)("h3",{id:"simplified-rendering"},"Simplified Rendering"),(0,i.kt)("p",null,"The rendering of viewports is handled by the ",(0,i.kt)("inlineCode",{parentName:"p"},"Main")," class, using the ",(0,i.kt)("inlineCode",{parentName:"p"},"createView")," method, which returns an instance of ",(0,i.kt)("inlineCode",{parentName:"p"},"RenderView"),". ",(0,i.kt)("br",null),"\nBy modifying the various properties of this instance, various parameters can be changed, including: the size, position, background, interaction state, and visibility.\nIt is also possible to specify an ",(0,i.kt)("inlineCode",{parentName:"p"},"EffectComposer")," for each RenderView to handle post-processing effects."),(0,i.kt)("h3",{id:"object3d-property-binding"},"Object3D Property Binding"),(0,i.kt)("p",null,"It is possible to bind to a property of an ",(0,i.kt)("inlineCode",{parentName:"p"},"Object3D")," the result of a callback, using the ",(0,i.kt)("inlineCode",{parentName:"p"},"bindProperty")," method. ",(0,i.kt)("br",null),"\nThe bindings are computed automatically during each animate cycle.\nTo manually compute the various bindings using the ",(0,i.kt)("inlineCode",{parentName:"p"},"setManualDetectionMode")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"detectChanges")," methods."),(0,i.kt)("h3",{id:"event-programming"},"Event Programming"),(0,i.kt)("p",null,"It facilitates interaction with ",(0,i.kt)("inlineCode",{parentName:"p"},"Object3D")," by adding a series of programmable events. ",(0,i.kt)("br",null),"\nInteraction events work similarly to DOM events, with the same propagation and methods such as ",(0,i.kt)("inlineCode",{parentName:"p"},"preventDefault")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"stopPropagation"),". ",(0,i.kt)("br",null),"\nEvents list:\n",(0,i.kt)("a",{parentName:"p",href:"https://agargaro.github.io/three-ez/docs/api/interfaces/Events.InteractionEvents"},"InteractionEvents"),"\n\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://agargaro.github.io/three-ez/docs/api/interfaces/Events.MiscEvents"},"MiscEvents"),"\n\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://agargaro.github.io/three-ez/docs/api/interfaces/Events.UpdateEvents"},"UpdateEvents")),(0,i.kt)("h3",{id:"focus-and-blur"},"Focus and Blur"),(0,i.kt)("p",null,"Implements focus handling and related events to handle certain interactions more easily. ",(0,i.kt)("br",null),"\nBy setting the value of the ",(0,i.kt)("inlineCode",{parentName:"p"},"focusable")," property of an ",(0,i.kt)("inlineCode",{parentName:"p"},"Object3D")," you can determine whether it can receive focus."),(0,i.kt)("h3",{id:"drag-and-drop"},"Drag and Drop"),(0,i.kt)("p",null,"Implements drag and drop handling and related events by adding two properties to each ",(0,i.kt)("inlineCode",{parentName:"p"},"Object3D"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"draggable"),": makes an object draggable."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"findDropTarget"),": determines whether intersections with drop targets will be checked during dragging.")),(0,i.kt)("p",null,"The drag can be cancelled by pressing 'Esc'."),(0,i.kt)("h3",{id:"hitbox-functionality"},"Hitbox Functionality"),(0,i.kt)("p",null,"Hitboxes can be used to handle a different intersection area or to simplify intersection calculations. "),(0,i.kt)("h3",{id:"raycasting-options"},"Raycasting Options"),(0,i.kt)("p",null,"It is possible to choose between continuous raycasting (every frame) or raycasting only during mouse movement, providing the flexibility to optimise raycasting operations according to application requirements. ",(0,i.kt)("br",null),"\nIn addition, it is possible to choose which objects can be intersected, setting ",(0,i.kt)("inlineCode",{parentName:"p"},"interceptByRaycaster")," property."),(0,i.kt)("h3",{id:"tweening"},"Tweening"),(0,i.kt)("p",null,"Implements smooth animations effortlessly with built-in tweening functionality. ",(0,i.kt)("inlineCode",{parentName:"p"},"Vector3"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Euler"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Quaternion"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Color")," are supported."),(0,i.kt)("h3",{id:"simplified-instancedmesh"},"Simplified InstancedMesh"),(0,i.kt)("p",null,"With the class ",(0,i.kt)("inlineCode",{parentName:"p"},"InstancedMesh2")," it is possible to handle each sub-entity of an ",(0,i.kt)("inlineCode",{parentName:"p"},"InstancedMesh")," as if it were an ",(0,i.kt)("inlineCode",{parentName:"p"},"Object3D"),". This makes development much simpler and more intuitive."),(0,i.kt)("h2",{id:"how-it-works"},"How It Works"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"Main")," class handles rendering, resizing, events and all other functionality. ",(0,i.kt)("br",null),"\nThe Main class documentation is available ",(0,i.kt)("a",{parentName:"p",href:"https://agargaro.github.io/three-ez/docs/api/classes/Core.Main"},"here"),". ",(0,i.kt)("br",null),"\nIn addition, methods and properties have been added to the ",(0,i.kt)("inlineCode",{parentName:"p"},"Object3D")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Scene")," classes. ",(0,i.kt)("br",null),"\nList of properties and methods added:\n",(0,i.kt)("a",{parentName:"p",href:"https://agargaro.github.io/three-ez/docs/api/interfaces/Patch.Object3DExtPrototype"},"Object3D"),"\n\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://agargaro.github.io/three-ez/docs/api/interfaces/Patch.SceneExtPrototype"},"Scene")),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"You can install ",(0,i.kt)("inlineCode",{parentName:"p"},"three.ez")," via npm using the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @three.ez/main\n")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,"Example of a simple animated and draggable box:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Scene as SceneBase, Mesh, BoxGeometry, MeshNormalMaterial } from 'three';\nimport { Main as MainBase, PerspectiveCameraAuto } from '@three.ez/main';\n\nclass DraggableBox extends Mesh {\n  constructor() {\n    super(new BoxGeometry(0.2, 0.2, 0.2), new MeshNormalMaterial());\n    this.draggable = true;\n    this.on('animate', (e) => this.rotateX(e.delta).rotateY(e.delta * 2));\n  }\n}\n\nclass Scene extends SceneBase {\n  constructor() {\n    super();\n    this.add(new DraggableBox());\n  }\n}\n\nclass Main extends MainBase {\n  constructor() {\n    super();\n    this.createView({ scene: new Scene(), camera: new PerspectiveCameraAuto(70).translateZ(1) });\n  }\n}\n\nconst main = new Main();\n")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Show smaller version"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Scene, Mesh, BoxGeometry, MeshNormalMaterial } from 'three';\nimport { Main, PerspectiveCameraAuto } from '@three.ez/main';\n\nconst box = new Mesh(new BoxGeometry(0.2, 0.2, 0.2), new MeshNormalMaterial());\nbox.draggable = true;\nbox.on('animate', (e) => box.rotateX(e.delta).rotateY(e.delta * 2));\nconst scene = new Scene().add(box);\nconst main = new Main();\nmain.createView({ scene, camera: new PerspectiveCameraAuto(70).translateZ(1) });\n"))),(0,i.kt)("h2",{id:"override-typescript-type-definition"},"Override Typescript Type Definition"),(0,i.kt)("p",null,"To extend the definitions of ",(0,i.kt)("inlineCode",{parentName:"p"},"three"),", go into ",(0,i.kt)("inlineCode",{parentName:"p"},"ts.config")," and add this path:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'"compilerOptions": {\n  "paths": {\n    "three": ["./node_modules/@three.ez/main/types"]\n  }\n}\n')),(0,i.kt)("h2",{id:"live-examples"},"Live Examples"),(0,i.kt)("p",null,"These examples use ",(0,i.kt)("inlineCode",{parentName:"p"},"vite")," and some mobile devices may go out of memory.\nThere is one example without vite."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://stackblitz.com/@agargaro/collections/three-ez"},"Examples Collection")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-template?file=src%2Fmain.ts"},"Template"),"\n\u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-template-small?file=src%2Fmain.ts"},"Template Small"),"\n\u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-template-no-vite?file=index.ts"},"Template No Vite")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-smart-rendering?file=src%2Fmain.ts"},"Smart Rendering")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-multiple-views?file=src%2Fmain.ts"},"Multiple Views"),"\n\u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-multiple-views-wireframe?file=src%2Fmain.ts"},"Multiple Views Wireframe")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-binding?file=src%2Fmain.ts"},"Binding"),"\n\u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-binding-collisions?file=src%2Fmain.ts"},"Binding Collisions")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-events?file=src%2Fmain.ts"},"Events"),"\n\u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-click-on-scene-to-add-box?file=src%2Fmain.ts"},"Click On Scene To Add Box")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-focus?file=src%2Fmain.ts"},"Focus"),"\n\u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-focus-outline?file=src%2Fmain.ts"},"Focus Outline (post-processing)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-drag-drop?file=src%2Fmain.ts"},"Drag & Drop"),"\n\u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-lod-draggable?file=src%2Fmain.ts"},"LOD Draggable"),"\n\u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-drag-limits?file=src%2Fmain.ts"},"Drag Limits")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-continuous-raycasting?file=src%2Fmain.ts"},"Continuous Raycasting")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-hitbox?file=src%2Fmain.ts"},"Hitbox")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-tweening?file=src%2Fmain.ts"},"Tweening")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-tweening-custom-progress?file=src%2Fmain.ts"},"Tweening Custom Progress")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-instancedmeshentity?file=src%2Fmain.ts"},"InstancedMeshEntity"),"\n\u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-instancedmeshentity-performance?file=src%2Fmain.ts"},"InstancedMeshEntity Performance")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-draggable-box-orbitcontrols?file=src%2Fmain.ts"},"Draggable Box OrbitControls")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackblitz.com/edit/three-ez-textbox?file=src%2Fmain.ts"},"Textbox (troika-three-text)")),(0,i.kt)("li",{parentName:"ul"},"Rolling & Jumping Ball")),(0,i.kt)("h2",{id:"documentation"},"Documentation"),(0,i.kt)("p",null,"The API documentation is available ",(0,i.kt)("a",{parentName:"p",href:"https://agargaro.github.io/three-ez/docs/api"},"here"),". ",(0,i.kt)("br",null),"\nIf there is demand, comprehensive, guided tutorials will be written for each functionality."),(0,i.kt)("h2",{id:"contributing"},"Contributing"),(0,i.kt)("p",null,"Any help is highly appreciated. If you would like to contribute to this package or report problems, feel free to open a bug or pull request."),(0,i.kt)("h2",{id:"questions"},"Questions?"),(0,i.kt)("p",null,"If you have questions or need assistance, you can create a discussion in the appropriate section."))}m.isMDXComponent=!0}}]);