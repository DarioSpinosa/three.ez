"use strict";(self.webpackChunkthree_ez_doc=self.webpackChunkthree_ez_doc||[]).push([[3258],{4137:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>b});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,b=u["".concat(c,".").concat(m)]||u[m]||d[m]||i;return n?r.createElement(b,o(o({ref:t},s),{},{components:n})):r.createElement(b,o({ref:t},s))}));function b(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9891:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(4137));const i={sidebar_position:4},o="Binding",l={unversionedId:"tutorial/binding",id:"tutorial/binding",title:"Binding",description:"You can establish property bindings for an Object3D in two distinct manners:",source:"@site/docs/tutorial/binding.md",sourceDirName:"tutorial",slug:"/tutorial/binding",permalink:"/three.ez/docs/tutorial/binding",draft:!1,editUrl:"https://github.com/agargaro/three.ez/tree/master/docs/docs/tutorial/binding.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Animation",permalink:"/three.ez/docs/tutorial/animation"},next:{title:"TODO",permalink:"/three.ez/docs/tutorial/events/todo"}},c={},p=[{value:"How it works",id:"how-it-works",level:2},{value:"Manual detection",id:"manual-detection",level:2},{value:"Live Examples",id:"live-examples",level:2}],s={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"binding"},"Binding"),(0,a.kt)("p",null,"You can establish property bindings for an ",(0,a.kt)("inlineCode",{parentName:"p"},"Object3D")," in two distinct manners:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Automatic Recalculation:")," property values are automatically updated at the conclusion of each animate cycle"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Manual Calculation:")," property values must be manually computed and updated as needed")),(0,a.kt)("h2",{id:"how-it-works"},"How it works"),(0,a.kt)("p",null,"To create a binding, you should use the ",(0,a.kt)("inlineCode",{parentName:"p"},"bindProperty")," method. ",(0,a.kt)("br",null),"\nWhen the binding is created, its initial value is calculated, and at the end of each animation cycle, it will be recalculated."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const box = new Mesh(new BoxGeometry(), new MeshLambertMaterial({ color: 'green' }));\nbox.bindProperty('visible', () => box.parent?.enabled); // Visible only if parent is enabled\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f ",(0,a.kt)("strong",{parentName:"p"},"Warning")," ",(0,a.kt)("br",null),"\nExercise caution when using the ",(0,a.kt)("inlineCode",{parentName:"p"},"parent")," property within a get callback, especially when the object may not have a parent yet.")),(0,a.kt)("h2",{id:"manual-detection"},"Manual detection"),(0,a.kt)("p",null,"In some cases, you may want more control over when the bound properties are recalculated. ",(0,a.kt)("br",null),"\nTo achieve this, you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"setManualDetectionMode"),". ",(0,a.kt)("br",null),"\nWhen you set manual detection mode, it prevents the automatic recalculation of bound properties at the end of each animation cycle.\nYou can then manually trigger the update of these properties by calling the ",(0,a.kt)("inlineCode",{parentName:"p"},"detectChanges")," method when needed. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"box.setManualDetectionMode(); // Enable manual detection mode\nbox.detectChanges(); // Calculate binding property values manually\n")),(0,a.kt)("h2",{id:"live-examples"},"Live Examples"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://stackblitz.com/edit/three-ez-binding?file=src%2Fmain.ts"},"\u26a1 Stackblitz - Binding")," ",(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"https://stackblitz.com/edit/three-ez-binding-collisions?file=src%2Fmain.ts"},"\u26a1 Stackblitz - Binding Collisions")))}d.isMDXComponent=!0}}]);